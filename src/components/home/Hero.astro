---
import { SITE } from '@consts';
import { Picture } from 'astro:assets';
import Social from '@components/Social.astro';
import { Icon } from 'astro-icon/components';
import myImage from '@images/lucas-k-wQLAGv4_OYs-unsplash.jpg';
---

<style is:inline>
  .typing::after {
    content: '|';
    white-space: pre;
    animation: blink 1s infinite;
  }

  @keyframes blink {
    0%,
    100% {
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
  }

  .fade-in {
    animation: fadeIn ease 3s;
    -webkit-animation: fadeIn ease 3s;
    -moz-animation: fadeIn ease 3s;
    -o-animation: fadeIn ease 3s;
    -ms-animation: fadeIn ease 3s;
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
</style>

<section class="hero my-8 text-base-content selection:bg-primary sm:space-y-6 lg:my-12">
  <div class="fade-in hero-content flex-col lg:flex-row">
    <figure>
      <Picture
        class="max-w-sm transform rounded rounded-t-3xl object-cover object-center shadow-2xl shadow-primary transition-all duration-700 hover:scale-110 hover:grayscale sm:max-w-sm"
        src={myImage}
        formats={['avif', 'webp']}
        alt="Image of water smoke"
        loading="eager"
      />
      <figcaption class="sr-only">Image of water smoke</figcaption>
    </figure>

    <div class="space-y-6 font-body lg:ml-8">
      <p class="font-mono text-xl lowercase">Hello World,</p>
      <h1 class="font-display text-4xl font-bold lowercase italic lg:text-6xl">
        My Name is <span
          class="hover:bg-primary hover:transition-all hover:delay-75 hover:duration-500 hover:ease-in-out"
          >Sahil</span
        >
        <button id="play-name">
          <Icon
            name="waveform"
            class="inline-block size-8 cursor-pointer hover:animate-spin hover:transition hover:delay-100 hover:duration-500 hover:ease-in-out"
            aria-label="Listen to my name"
            style="vertical-align: top;"
          />
        </button>
      </h1>
      <h2 class="font-display text-2xl font-medium sm:text-4xl">
        A multifaceted developer & designer
      </h2>

      <p class="text-xl leading-relaxed">
        I'm a professional freelancer and I craft unique brand identities, compelling websites, and
        innovative software solutions<span class="typing"></span>.
      </p>
      <!-- Social Links -->
      <Social />
      <a
        class="btn btn-primary btn-md font-display hover:scale-110 hover:shadow-2xl hover:shadow-primary hover:transition hover:delay-100 hover:duration-500 hover:ease-in-out active:scale-90"
        href={`mailto:${SITE.MAIL}?subject=Hello There!&amp;body=Hi Sahil, so I was looking at your blog and...`}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Contact me"
        >Contact Me
      </a>
      <a
        class="btn btn-secondary btn-md ml-4 font-display hover:scale-110 hover:shadow-2xl hover:shadow-secondary hover:transition hover:delay-100 hover:duration-500 hover:ease-in-out active:scale-90"
        href="/resume/Sahil_Resume_W_2024.pdf"
        rel="noopener noreferrer"
        target="_blank"
        download
        aria-label="Download Resume"
        >Download Resume
      </a>
    </div>
  </div>
</section>
<script>
  const nameSound = new Audio('./audio/sahil-name.mp3');
  const playButton = document.getElementById('play-name') as HTMLElement | null;
  if (playButton) {
    playButton.addEventListener('click', function () {
      nameSound.play();
    });
  }
</script>
